// Module included in the following assemblies:
//
// * virt/install/preparing-cluster-for-virt.adoc
:_mod-docs-content-type: CONCEPT
[id="virt-aws-gc-bm-mos_{context}"]
= {VirtProductName} on {product-title}

ifdef::openshift-rosa,openshift-rosa-hcp[]
You can run {VirtProductName} on a {product-title} cluster.
endif::openshift-rosa,openshift-rosa-hcp[]
ifdef::openshift-dedicated[]
You can run {VirtProductName} on an {product-title} cluster.
endif::openshift-dedicated[]

Before you set up your cluster, review the following summary of supported features and limitations:

Installing::
--
*  You can install the cluster ensuring that you specify bare-metal instance types for the worker nodes. For example, you can use the
ifdef::openshift-rosa,openshift-rosa-hcp[]
`c5n.metal`
endif::openshift-rosa,openshift-rosa-hcp[]
ifdef::openshift-dedicated[]
`c3.metal`
endif::openshift-dedicated[]
type value for a machine based on x86_64 architecture.
--

Accessing virtual machines (VMs)::
--
* There is no change to how you access VMs by using the `virtctl` CLI tool or the {product-title} web console.
* You can expose VMs by using a `NodePort` or `LoadBalancer` service.
** The load balancer approach is preferable because {product-title} automatically creates the load balancer in
ifdef::openshift-rosa,openshift-rosa-hcp[]
AWS
endif::openshift-rosa,openshift-rosa-hcp[]
ifdef::openshift-dedicated[]
Google Cloud
endif::openshift-dedicated[]
and manages its lifecycle. A security group is also created for the load balancer, and you can use annotations to attach existing security groups. When you remove the service, {product-title} removes the load balancer and its associated resources.
--

Networking::
--
* If your application requires a flat layer 2 network that does not need egress traffic, consider using OVN-Kubernetes secondary overlay networks with a `Layer2` topology.
--

Storage::

* You can use any storage solution that is certified by the storage vendor to work with the underlying platform.
+
ifdef::openshift-rosa,openshift-rosa-hcp[]
[IMPORTANT]
====
AWS bare metal, Red Hat OpenShift Service on AWS, and Red Hat OpenShift Service on AWS classic architecture clusters might have different supported storage solutions. Ensure that you confirm support with your storage vendor.
====
endif::openshift-rosa,openshift-rosa-hcp[]
ifdef::openshift-dedicated[]
[IMPORTANT]
====
{gcp-short} bare metal and {product-title} on {gcp-short} clusters might have different supported storage solutions. Ensure that you confirm support with your storage vendor.
====
endif::openshift-dedicated[]
ifdef::openshift-rosa,openshift-rosa-hcp[]
* Using Amazon Elastic File System (EFS) or Amazon Elastic Block Store (EBS) with {VirtProductName} might cause performance and functionality limitations as shown in the following table:
+
.EFS and EBS performance and functionality limitations
[cols="1,1,1,1,1,1",options="header"]
|===
|Feature
3+^|EBS volume
|EFS volume
|Shared storage solutions

|
^s|gp2
^s|gp3
^s|io2
|
|

|VM live migration
^|Not available
^|Not available
^|Available
|Available
|Available

|Fast VM creation by using cloning
3+^|Available
|Not available
|Available

|VM backup and restore by using snapshots
3+^|Available
|Not available
|Available

|===
+
Consider using CSI storage, which supports ReadWriteMany (RWX), cloning, and snapshots to enable live migration, fast VM creation, and VM snapshots capabilities.
--
endif::openshift-rosa,openshift-rosa-hcp[]